#!/bin/sh -e

update() {

    git stash save hupdate
    git pull
    git stash pop

    local repos=$(grep clone $HOME/bin/hinit | grep THOME | sed -e 's,.*$THOME/,,g')

    for repo in $repos; do
	echo "=====> $repo"
	(cd ${repo} ; git pull)
    done
}

main() {

    (
	cd $HOME
	update()
    )
}

main "$@"
